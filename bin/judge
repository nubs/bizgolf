#!/usr/bin/env php
<?php
namespace Codegolf;

$baseDir = dirname(__DIR__);
require_once "{$baseDir}/src/helpers.php";

$language = $argv[1];
$holeName = $argv[2];
$script = $argv[3];

try {
    exit((int)!judge(loadHole($holeName), createImage($language, $script)));
} catch (\Exception $e) {
    file_put_contents('php://stderr', "Exception caught: {$e->getMessage()}\n");
    exit(1);
}
