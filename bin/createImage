#!/bin/bash
tempPath="$(mktemp -d)"
tempBase="$(basename "${tempPath}")"

language="${1}"
script="${2}"

cp "${script}" "${tempPath}/userScript" || exit 1
cd "${tempPath}"

cat >Dockerfile <<EODF
FROM ${language}

ADD userScript /tmp/userScript
EODF

docker build -t "${tempBase}" . >/dev/null 2>&1

echo "${tempBase}"
